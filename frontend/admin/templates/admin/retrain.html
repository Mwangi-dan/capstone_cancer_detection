{% extends "admin/admin_layout.html" %}
{% block content %}
<div class="max-w-3xl mx-auto p-6">
  <h1 class="text-3xl font-bold text-blue-700 mb-6">Model Retraining</h1>

  <p class="text-gray-700 mb-4">
    You can trigger retraining of the cancer detection model using new feedback from clinicians. This should be done periodically or when accuracy drops.
  </p>

  <form method="POST" onsubmit="showLoading()">
  <button type="submit" id="retrainBtn"
    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded">
    Trigger Retraining
  </button>
</form>

<div id="loading" class="mt-4 hidden">
  <p class="text-blue-700 font-medium">Retraining in progress...</p>
  <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto mt-2"></div>
</div>

<script>
  function showLoading() {
    document.getElementById("retrainBtn").disabled = true;
    document.getElementById("loading").classList.remove("hidden");
  }
</script>

  <div class="mt-6 text-sm text-gray-600">
    <p><strong>Note:</strong> Make sure new feedback is reviewed before retraining. Retraining may take several minutes.</p>
  </div>
</div>
{% endblock %}
