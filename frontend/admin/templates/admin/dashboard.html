{% extends "admin/admin_layout.html" %}
{% block content %}
<div class="max-w-6xl mx-auto p-6">
  <h1 class="text-3xl font-bold text-blue-700 mb-6">Admin Dashboard</h1>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8">
    <div class="bg-white rounded-lg shadow p-4 text-center">
        <h2 class="text-sm text-gray-500">Total Users</h2>
        <p class="text-2xl font-bold text-blue-700">{{ stats.users }}</p>
        <a href="{{ url_for('admin.export_users') }}"
       class="mt-2 inline-block text-sm text-blue-600 hover:underline">
       Download CSV
    </a>
    </div>
    <div class="bg-white rounded-lg shadow p-4 text-center">
        <h2 class="text-sm text-gray-500">Verified Clinicians</h2>
        <p class="text-2xl font-bold text-green-700">{{ stats.verified }}</p>
    </div>
    <div class="bg-white rounded-lg shadow p-4 text-center">
        <h2 class="text-sm text-gray-500">Predictions</h2>
        <p class="text-2xl font-bold text-purple-700">{{ stats.predictions }}</p>
        <a href="{{ url_for('admin.export_predictions') }}"
       class="mt-2 inline-block text-sm text-purple-600 hover:underline">
       Download CSV
    </a>
    </div>
    <div class="bg-white rounded-lg shadow p-4 text-center">
        <h2 class="text-sm text-gray-500">Feedback Entries</h2>
        <p class="text-2xl font-bold text-orange-600">{{ stats.feedback }}</p>
        <a href="{{ url_for('admin.export_feedback') }}"
       class="mt-2 inline-block text-sm text-orange-600 hover:underline">
       Download CSV
    </a>
    </div>
    <div class="bg-white rounded-lg shadow p-4 text-center">
        <h2 class="text-sm text-gray-500">Last Retraining</h2>
        <p class="text-sm text-gray-700 mt-1">
        {{ stats.retrain_time if stats.retrain_time else "Never" }}
        </p>
    </div>
    </div>


  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <a href="{{ url_for('admin.view_users') }}" class="bg-white border rounded-xl p-4 shadow hover:shadow-lg transition">
      <h2 class="text-xl font-semibold text-gray-800">ðŸ‘¤ User Management</h2>
      <p class="text-gray-600 text-sm mt-1">Verify clinicians, deactivate users.</p>
    </a>

    <a href="{{ url_for('admin.view_feedback') }}" class="bg-white border rounded-xl p-4 shadow hover:shadow-lg transition">
      <h2 class="text-xl font-semibold text-gray-800">ðŸ§  Prediction Feedback</h2>
      <p class="text-gray-600 text-sm mt-1">View clinician feedback on model predictions.</p>
    </a>

    <a href="{{ url_for('admin.retrain') }}" class="bg-white border rounded-xl p-4 shadow hover:shadow-lg transition">
      <h2 class="text-xl font-semibold text-gray-800">ðŸ›  Model Retraining</h2>
      <p class="text-gray-600 text-sm mt-1">Trigger model updates using corrected feedback.</p>
    </a>
  </div>

</div>
{% endblock %}
